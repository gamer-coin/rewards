"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7971],{4159:function(e,r,n){n.d(r,{v:function(){return p}});var t=n(9499),o=n(917),a=n(2192),s=n(7294),u=n(4012);function c(e){return function(r){13!==r.keyCode&&32!==r.keyCode||(r.preventDefault(),e())}}var l=n(9091),i=n(6677),d=n(7033),m=n(5944);var f={name:"jj2ll5",styles:"width:100px;min-width:100px;cursor:pointer;[dir=ltr] &{margin-right:1em;}[dir=rtl] &{margin-left:1em;}"},p=s.memo((function(e){var r=e.transcript,n=e.transcriptResult,a=e.playingBorderRadius,s=n.colors,p=n.classNames,g=n.onWordClick;return(0,m.tZ)("div",{className:p.segmentsParentClassName,children:r.segments.map((function(e,n){var k,w,x;return(0,m.BX)("div",{css:(0,o.iv)((k={opacity:"0.5",display:"flex",transition:"opacity 0.3s ".concat(i.Z4),marginBottom:"1em"},(0,t.Z)(k,"&.".concat(p.currentSegmentClassName),{backgroundColor:s.currentSegmentBackground,borderRadius:"2px",boxShadow:"0 0 0 10px ".concat(s.currentSegmentBackground),opacity:"1"}),(0,t.Z)(k,"& .".concat(p.currentWordClassName),{color:s.currentWordText,backgroundColor:s.currentWordBackground,boxShadow:"2px 0 0 2px ".concat(s.currentWordBackground,", -2px 0 0 2px ").concat(s.currentWordBackground," !important"),borderRadius:a,transition:"color 0.1s ".concat(i.Z4,", background 0.1s ").concat(i.Z4,", box-shadow 0.1s ").concat(i.Z4,";")}),k),"",""),children:[(0,m.BX)("div",{css:f,role:"button",tabIndex:0,onClick:function(){return g(e.words[0].start)},onKeyDown:c((function(){return g(e.words[0].start)})),children:[(0,m.tZ)("div",{css:[d.c.bodyTwo,d.v.semibold,"",""],children:(0,l.R)(e.words[0].start)}),(0,m.tZ)("div",{css:[d.c.bodyTwo,d.v.semibold,"",""],children:null!==(w=null===(x=r.speakers[e.speaker])||void 0===x?void 0:x.name)&&void 0!==w?w:(0,m.tZ)(u.Z,{id:"8zDrHX",defaultMessage:[{type:0,value:"Speaker "},{type:1,value:"number"}],values:{number:e.speaker+1}})})]}),(0,m.tZ)("p",{className:p.wordsParentClassName,css:[d.c.bodyTwo,"flex:1 0;margin:0 0 0.7rem;",""],children:e.words.map((function(e,r){return(0,m.BX)("span",{children:[(0,m.tZ)(v,{role:"button",tabIndex:0,onClick:function(){return g(e.start)},onKeyDown:c((function(){return g(e.start)})),children:e.text})," "]},r)}))})]},n)}))})})),v=(0,a.Z)("span",{target:"e1huwz230"})({name:"1g73rhu",styles:"&:hover, &:focus{cursor:pointer;text-decoration:underline;}"})},4360:function(e,r,n){n.d(r,{A:function(){return s}});var t=n(6835),o=n(7294),a={segmentsParentClassName:"segments",currentSegmentClassName:"current-segment",wordsParentClassName:"words",currentWordClassName:"current-word"};function s(e){var r=e.autoScroll,n=e.colors,s=e.containerElement,c=e.currentPlayTime,l=e.transcript,i=e.onWordClick,d=o.useState(null),m=(0,t.Z)(d,2),f=m[0],p=m[1],v=o.useState(),g=(0,t.Z)(v,2),k=g[0],w=g[1];o.useEffect((function(){if(s){var e=function(e){var r,n=null,t=null,o=e.querySelector("."+a.segmentsParentClassName),s=Array.from(null!==(r=null===o||void 0===o?void 0:o.children)&&void 0!==r?r:[]).map((function(e){var r,n;return{segmentElement:e,wordElements:null!==(r=null===(n=e.querySelector("."+a.wordsParentClassName))||void 0===n?void 0:n.children)&&void 0!==r?r:[]}})),c=function(e,r){var t,o;n&&(null===(t=n.currentSegmentElement)||void 0===t||t.classList.remove(a.currentSegmentClassName),null===(o=n.currentWordElement)||void 0===o||o.classList.remove(a.currentWordClassName),n=null);if(r){var u=s[r.segmentIndex],c=u&&null!==r.wordIndex?u.wordElements[r.wordIndex]:void 0;u&&u.segmentElement.classList.add(a.currentSegmentClassName),c&&c.classList.add(a.currentWordClassName),n={currentSegmentElement:u.segmentElement,currentWordElement:c},l(e,c)}},l=function(r,n){if(null===t&&r&&n){if(!(n instanceof HTMLElement))throw Error("useTranscript - wordElement is not HTMLElement");var o=Math.max(0,n.offsetTop-100);e.scroll({top:o,left:0,behavior:u(e.scrollTop,o)}),d("scrolledToWord")}},i=function(){var e;"scrolledToWord"!==(null===(e=t)||void 0===e?void 0:e.type)&&d("userScrolled")},d=function(e){t&&window.clearTimeout(t.timeoutId);var r=function(){switch(e){case"scrolledToWord":return 500;case"userScrolled":return 3e3}}(),n=window.setTimeout((function(){t=null}),r);t={type:e,timeoutId:n}};return e.addEventListener("scroll",i,{passive:!0}),{updatePlayback:c,cleanUp:function(){e.removeEventListener("scroll",i)}}}(s);return w(e),function(){e.cleanUp()}}}),[s]),o.useEffect((function(){var e,r=function(e,r,n){var t=function(e,r,n,t){for(var o=r;o<n;o++){var a=e.segments[o].words,s=a[0].start,u=a[a.length-1].end;if(t>=s&&t<u){for(var c=0;c<a.length;c++){var l=a[c];if(t>=l.start&&t<l.end)return{segmentIndex:o,wordIndex:c}}return{segmentIndex:o,wordIndex:null}}}return null},o=null!==r&&void 0!==r?r:0,a=t(e,o,e.segments.length,n);if(null!==a)return a;var s=t(e,0,o,n);if(null!==s)return s;return null}(l,null!==(e=null===f||void 0===f?void 0:f.segmentIndex)&&void 0!==e?e:null,c);p(r)}),[null===f||void 0===f?void 0:f.segmentIndex,c,l]),o.useLayoutEffect((function(){k&&k.updatePlayback(r,f)}),[r,f,k]);var x=o.useMemo((function(){return{currentWordText:n.currentWordText,currentWordBackground:n.currentWordBackground,currentSegmentBackground:n.currentSegmentBackground}}),[n.currentWordText,n.currentWordBackground,n.currentSegmentBackground]),b=o.useRef(i);o.useEffect((function(){b.current=i}));var h=o.useCallback((function(e){b.current(e)}),[]);return o.useMemo((function(){return{colors:x,classNames:a,onWordClick:h}}),[x,h])}function u(e,r){return/Trident|MSIE/.test(navigator.userAgent)||Math.abs(e-r)>500?"auto":"smooth"}},8417:function(e,r,n){n.d(r,{k:function(){return l}});var t=n(29),o=n(6835),a=n(7794),s=n.n(a),u=n(7294),c=n(6709);function l(e){var r=u.useState({type:"none"}),n=(0,o.Z)(r,2),a=n[0],l=n[1];return u.useEffect((function(){var r=!1;l({type:"loading"});var n=function(){var n=(0,t.Z)(s().mark((function n(){var t,o,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.HasPublishedTranscript){n.next=3;break}return l({type:"loadedEmpty"}),n.abrupt("return");case 3:return t=(0,c.l)(),n.next=6,t.getClipTranscript({orgId:e.OrganizationId,clipId:e.Id,format:"JSON",speakers:!0});case 6:if(o=n.sent,!r){n.next=9;break}return n.abrupt("return");case 9:if(o.success){n.next=12;break}return l({type:"error"}),n.abrupt("return");case 12:if(0!==(a={speakers:o.payload.speakers,segments:o.payload.segments}).segments.length){n.next=16;break}return l({type:"loadedEmpty"}),n.abrupt("return");case 16:l({type:"loaded",transcript:a});case 17:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){r=!0}}),[e.HasPublishedTranscript,e.Id,e.OrganizationId]),a}}}]);